<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faculty Portal</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/facultyDashboard.css">
    <link rel="stylesheet" href="../../assets/css/studentDashboard.css">
</head>

<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="user-profile">
                <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-info">
                    <h4 id="sidebarUserName">User Name</h4>
                    <p id="sidebarUserRole">Faculty</p>
                </div>
            </div>
        </div>

        <div class="sidebar-menu">
            <div class="menu-section">
                <h5 class="menu-title">Faculty Menu</h5>
                <ul class="menu-list">
                    <li class="menu-item active" data-section="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="menu-item" data-section="student-details">
                        <i class="fas fa-id-card"></i>
                        <span>Faculty Details</span>
                    </li>
                    <li class="menu-item" data-section="students">
                        <i class="fas fa-user-graduate"></i>
                        <span>Manage Students</span>
                    </li>
                    <li class="menu-item" data-section="sections">
                        <i class="fas fa-th-large"></i>
                        <span>Manage Sections</span>
                    </li>
                    <li class="menu-item" data-section="courses">
                        <i class="fas fa-book-open"></i>
                        <span>All Courses</span>
                    </li>
                    <!-- RESTRICTED ITEMS REMOVED: Subjects, Strands, Teachers -->
                </ul>
            </div>

            <div class="menu-section">
                <h5 class="menu-title">Personal Settings</h5>
                <ul class="menu-list">
                    <li class="menu-item" data-section="account">
                        <i class="fas fa-cog"></i>
                        <span>Account Settings</span>
                    </li>
                </ul>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Navbar -->
        <nav class="top-navbar">
            <div class="navbar-left">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h2 class="page-title" id="pageTitle">Faculty Portal</h2>
            </div>
            <div class="navbar-right">
                <button class="nav-icon-btn" id="notificationBtn">
                    <i class="fas fa-bell"></i>
                    <span class="badge" id="notificationBadge">0</span>
                </button>
                <button class="nav-icon-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </nav>

        <!-- Dashboard Section -->
        <section class="content-section active" id="dashboard-section">
            <div class="welcome-banner">
                <div class="welcome-text">
                    <h1>Hello, <span id="welcomeUserName">Faculty</span></h1>
                    <p>Welcome! You are logged in as a <span id="welcomeUserRole">Faculty</span>.</p>
                </div>
                <div class="welcome-illustration">
                    <i class="fas fa-user-graduate"></i>
                </div>
            </div>

            <div class="analytics-section">
                <h3 class="section-title">Analytics Overview</h3>
                <div class="analytics-grid">
                    <div class="analytics-card card-blue">
                        <div class="card-icon">
                            <i class="fas fa-user-graduate"></i>
                        </div>
                        <div class="card-content">
                            <h2 class="card-number" id="totalStudents">7</h2>
                            <p class="card-label">STUDENTS</p>
                        </div>
                    </div>
                    <!-- REMOVED TEACHERS/COURSES ANALYTICS FOR FACULTY IF NOT NEEDED, OR KEEP READ-ONLY -->
                    <!-- Keeping placeholders as per typical dashboard design -->
                    <div class="analytics-card card-orange">
                        <div class="card-icon"><i class="fas fa-chalkboard-teacher"></i></div>
                        <div class="card-content">
                            <h2 class="card-number" id="totalTeachers">--</h2>
                            <p class="card-label">TEACHERS</p>
                        </div>
                    </div>
                    <div class="analytics-card card-pink">
                        <div class="card-icon">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="card-content">
                            <h2 class="card-number" id="totalCoursses">1</h2>
                            <p class="card-label">COURSES</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Bottom Grid -->
            <div class="dashboard-grid">
                <!-- Announcements -->
                <div class="dashboard-card announcements-card">
                    <div class="card-header">
                        <h3>Announcements</h3>
                        <button class="btn-post">
                            <i class="fas fa-plus-circle"></i>
                            Post new announcement
                        </button>
                    </div>
                    <div class="announcements-list" id="announcementsList">
                        <!-- Announcements will be loaded dynamically -->
                    </div>
                </div>

                <!-- Activities & Clock -->
                <div class="dashboard-card activities-card">
                    <div class="clock-widget">
                        <div class="time-display" id="currentTime">--:--:--</div>
                        <div class="date-display" id="currentDate">--</div>
                    </div>
                    <div class="greeting-card">
                        <h3>Good afternoon!</h3>
                        <p>Failures are the best teacher.</p>
                    </div>
                    <div class="activities-section">
                        <h4>Your activities</h4>
                        <div class="activity-input">
                            <input type="text" placeholder="Todo content">
                            <button class="btn-add">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="activity-list" id="activitiesList">
                            <!-- Activity Item -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Student Details Section (Previously Students) -->
        <section class="content-section" id="student-details-section">
            <div class="section-header">
                <h2>My Details</h2>
            </div>
            <form class="student-details-form" id="facultyDetailsForm">

                <div class="form-grid-2">

                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <input type="text" id="fname" name="sname" required placeholder="Name">
                        <small class="error-text">Enter a valid name</small>
                    </div>

                    <div class="form-group">
                        <label for="semail">Email Address</label>
                        <input type="email" id="femail" name="semail" readonly placeholder="email@example.com">
                        <small class="error-text">Enter a valid email address</small>
                    </div>

                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select id="fgender" name="gender" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                        <small class="error-text">Select a gender</small>
                    </div>

                    <div class="form-group">
                        <label for="dob">Date of Birth</label>
                        <input type="date" id="dob" name="dob" required>
                        <small class="error-text">Enter a valid date</small>
                    </div>

                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="fphone" name="sphone" required placeholder="1234567890"
                            pattern="[0-9]{10}" maxlength="10">
                        <small class="error-text">Enter a valid phone number</small>
                    </div>

                    <div class="form-group">
                        <label for="address">Address</label>
                        <input type="text" id="faddress" name="saddress" required placeholder="Address">
                        <small class="error-text">Enter a valid address</small>
                    </div>
                    <div class="form-group">
                        <label for="department">Department</label>
                        <input type="text" id="department" name="department" required placeholder="Department">
                        <small class="error-text">Enter a valid department</small>
                    </div>
                    <div class="form-group">
                        <label for="qualification">Qualification</label>
                        <input type="text" id="qualification" name="qualification" required placeholder="Qualification">
                        <small class="error-text">Enter a valid qualification</small>
                    </div>
                    <div class="form-group">
                        <label for="experience">Experience</label>
                        <input type="text" id="experience" name="experience" required placeholder="Experience">
                        <small class="error-text">Enter a valid experience</small>
                    </div>
                </div>
                <div class="form-actions" style="margin-top: 2rem; text-align: right;">
                    <button type="submit" class="btn-primary">Submit Details</button>
                </div>
            </form>
        </section>

        <!-- Students Section -->
        <section class="content-section" id="students-section">
            <div class="section-header">
                <h2>Manage Students</h2>
                <button class="btn-primary" id="addStudentBtn" onclick="openAddStudentModal()">
                    <i class="fas fa-plus-circle"></i>
                    Add New Student
                </button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>
                                <input type="checkbox" id="selectAll">
                            </th>
                            <th id="studentId">ID</th>
                            <th id="studentName">Name</th>
                            <th id="studentEmail">Email</th>
                            <th id="studentGender">Gender</th>
                            <th id="studentDOB">DOB</th>
                            <th id="studentPhone">Phone</th>
                            <th id="studentCourse">Course</th>
                            <th>Actions</th>
                        </tr>
                    </thead>

                    <!-- Add Student Modal -->
                    <div id="addStudentModal" class="modal-overlay">
                        <div class="modal-box">
                            <h2>Add New Student</h2>

                            <form id="addStudentForm">
                                <div class="form-group">
                                    <label>Full Name</label>
                                    <input type="text" id="addName" required>
                                </div>

                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="email" id="addEmail" required>
                                </div>

                                <div class="form-group">
                                    <label>Gender</label>
                                    <select id="addGender" required>
                                        <option value="">Select</option>
                                        <option>Male</option>
                                        <option>Female</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label>Date of Birth</label>
                                    <input type="date" id="addDob" required>
                                </div>

                                <div class="form-group">
                                    <label>Phone</label>
                                    <input type="text" id="addPhone" required>
                                </div>

                                <div class="modal-actions">
                                    <button type="submit" class="btn-primary">Add Student</button>
                                    <button type="button" class="btn-secondary"
                                        onclick="closeAddStudentModal()">Cancel</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Edit Student Modal -->
                    <div id="editStudentModal" class="modal-overlay">
                        <div class="modal-box">
                            <h2>Edit Student</h2>

                            <form id="editStudentForm">
                                <input type="hidden" id="editStudentId">

                                <div class="form-group">
                                    <label>Full Name</label>
                                    <input type="text" id="editName" required>
                                </div>

                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="email" id="editEmail" required>
                                </div>

                                <div class="form-group">
                                    <label>Gender</label>
                                    <select id="editGender" required>
                                        <option value="">Select</option>
                                        <option>Male</option>
                                        <option>Female</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label>Date of Birth</label>
                                    <input type="date" id="editDob" required>
                                </div>

                                <div class="form-group">
                                    <label>Phone</label>
                                    <input type="text" id="editPhone" required>
                                </div>

                                <div class="modal-actions">
                                    <button type="submit" class="btn-primary">Update</button>
                                    <button type="button" class="btn-secondary"
                                        onclick="closeEditStudentModal()">Cancel</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Delete Student Modal -->
                    <div id="deleteStudentModal" class="modal-overlay">
                        <div class="modal-box">
                            <h2 style="color:#e74c3c;">Delete Student</h2>
                            <p style="margin:15px 0;">
                                Are you sure you want to delete this student?<br>
                                <b>This action cannot be undone.</b>
                            </p>

                            <div class="modal-actions">
                                <button class="btn-delete1" id="confirmDeleteBtn">
                                    Yes, Delete
                                </button>
                                <button class="btn-secondary" onclick="closeDeleteStudentModal()">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </div>

                    <tbody id="studentsTableBody">
                        <!-- Data will be populated by JS -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Sections Management -->
        <section class="content-section" id="sections-section">
            <div class="section-header">
                <h2>Manage Sections</h2>
                <button class="btn-primary" id="addSectionBtn">
                    <i class="fas fa-plus-circle"></i>
                    Add New Section
                </button>
            </div>
            <!-- Sections Cards -->
            <div class="cards-grid" id="sectionsContainer">
                <!-- Dynamic cards will be injected here -->
            </div>
            <!-- <div class="cards-grid">
                <div class="info-card">
                    <h3>Section A</h3>
                    <p>Students: 25</p>
                    <button class="btn-secondary">View Details</button>
                </div>
                <div class="info-card">
                    <h3>Section B</h3>
                    <p>Students: 30</p>
                    <button class="btn-secondary">View Details</button>
                </div>
            </div> -->

            <div class="modal" id="addSectionModal" style="display:none;">
                <div class="modal-content">
                    <h3>Add New Section</h3>

                    <input type="text" id="sectionNameInput" placeholder="Enter Section Name" />

                    <div class="modal-actions">
                        <button class="btn-secondary" onclick="closeSectionModal()">Cancel</button>
                        <button class="btn-primary" onclick="saveSection()">Save</button>
                    </div>
                </div>
            </div>

        </section>

        <!-- All Courses Section (Previously Manage Subjects) -->
        <section class="content-section" id="courses-section">
            <div class="section-header">
                <h2>Available Courses</h2>
                <button class="btn-primary" id="addCourseBtn" onclick="openAddCourseModal()">
                    <i class="fas fa-plus-circle"></i>
                    Add New Course
                </button>
            </div>
            <div class="cards-grid" id="facultyCoursesContainer">
                <!-- Dynamic cards -->
            </div>

            <!-- <div class="cards-grid">

            </div> -->
            <!-- ADD COURSE MODAL -->
            <!-- <div class="modal1" id="addCourseModal" style="display:none;">
                <div class="modal-content">
                    <h3>Add New Course</h3>

                    <input id="courseName" placeholder="Course Name" />
                    <input id="courseCode" placeholder="Course Code" />
                    <input id="courseDuration" placeholder="Duration (e.g. 3 Months)" />
                    <input id="coursePrice" placeholder="Price" />
                    <textarea id="courseDescription" placeholder="Description"></textarea>

                    <div class="modal-actions">
                        <button class="btn-secondary" onclick="closeCourseModal()">Cancel</button>
                        <button class="btn-primary" onclick="saveCourse()">Save Course</button>
                    </div>
                </div>
            </div> -->

            <!-- ================= Add Course Modal ================= -->
            <div id="addCourseModal" class="modal-overlay">
                <div class="modal-box">
                    <h3>Add Course</h3>

                    <form id="addCourseForm">
                        <div class="form-group">
                            <label>Course Name</label>
                            <input type="text" id="courseName" placeholder="Course Name" required>
                        </div>
                        <div class="form-group">
                            <label>Course Code</label>
                            <input type="text" id="courseCode" placeholder="Course Code" required>
                        </div>
                        <div class="form-group">
                            <label>Course Duration</label>
                            <input type="text" id="courseDuration" placeholder="Duration" required>
                        </div>
                        <div class="form-group">
                            <label>Course Price</label>
                            <input type="number" id="coursePrice" placeholder="Price" required>
                        </div>
                        <div class="form-group">
                            <label>Course Description</label>
                            <textarea id="courseDescription" placeholder="Description" required></textarea>
                        </div>

                        <div class="modal-actions">
                            <button type="submit" class="btn-primary">Save</button>
                            <button type="button" class="btn-secondary" onclick="closeAddCourseModal()">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- ================= Edit Course Modal ================= -->
            <div id="editCourseModal" class="modal-overlay">
                <div class="modal-box">
                    <h3>Edit Course</h3>

                    <form id="editCourseForm">
                        <input type="hidden" id="editCourseId" />

                        <input type="text" id="editCourseName" required />
                        <input type="text" id="editCourseCode" required />
                        <input type="text" id="editCourseDuration" required />
                        <input type="number" id="editCoursePrice" required />
                        <textarea id="editCourseDescription" required></textarea>

                        <div class="modal-actions">
                            <button type="submit" class="btn-primary">Update</button>
                            <button type="button" class="btn-secondary" onclick="closeEditCourseModal()">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>



        </section>
        <!-- Account Settings -->
        <section class="content-section" id="account-section">
            <div class="section-header">
                <h2>Account Settings</h2>
            </div>
            <!-- Profile Header -->
            <div class="profile-header">
                <img src="../../assets/images/Frame-2147224445-6.png" class="profile-pic">
                <h2 id="displayName">Mohd Muddabiruszama</h2>
                <p class="role-text">Faculty</p>
            </div>

            <!-- Contact Info -->
            <div class="card">
                <h3>Contact Information</h3>

                <i class="fas fa-user icon-left"></i>
                <label>Faculty ID</label>
                <input type="text" id="settingsID" placeholder="ID" readonly>

                <i class="fas fa-user icon-left"></i>
                <label>Full Name</label>
                <input type="text" id="settingsName" placeholder="Name" readonly>

                <i class="fas fa-envelope icon-left"></i>
                <label>Email</label>
                <input type="email" id="settingsEmail" placeholder="Email" readonly>

                <i class="fas fa-phone icon-left"></i>
                <label>Phone</label>
                <input type="tel" id="settingsPhone" placeholder="Phone Number" readonly maxlength="10" value="+91 "
                    inputmode="numeric" pattern="[0-9]{10}" />

                <i class="fas fa-map-marker-alt icon-left"></i>
                <label>Address</label>
                <input type="text" id="settingsAddress" placeholder="Address" readonly>
            </div>

            <!-- Password Section -->
            <div class="card password-section" id="passwordSection">
                <h3>Change Password</h3>

                <i class="fas fa-lock icon-left"></i>
                <label>Current Password</label>
                <input type="password" id="currentPassword">

                <i class="fas fa-lock icon-left"></i>
                <label>New Password</label>
                <input type="password" id="newPassword">

                <i class="fas fa-lock icon-left"></i>
                <label>Confirm Password</label>
                <input type="password" id="confirmPassword">
            </div>

            <!-- Buttons -->
            <div class="btn-group">
                <button id="editBtn" onclick="enableEdit()">Edit Profile</button>
                <button id="saveBtn" disabled>Save Changes</button>
            </div>

        </section>
    </main>

    <!-- Notification Sidebar -->
    <div class="notification-overlay" id="notificationOverlay">
        <div class="notification-sidebar">
            <div class="notification-header">
                <h3><i class="fas fa-bell"></i> Notifications</h3>
                <button class="close-btn" id="closeNotificationBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="notification-content" id="notificationContent">
                <div class="loading-spinner" id="notificationLoading">
                    <i class="fas fa-spinner fa-spin"></i> Loading...
                </div>
                <div id="announcementsListNotification">
                    <!-- Announcements will be loaded here -->
                </div>
                <div class="no-notifications" id="noNotifications" style="display: none;">
                    <i class="fas fa-inbox"></i>
                    <p>No announcements yet</p>
                </div>
            </div>
        </div>
    </div>

    <script src="../../assets/js/script.js"></script>
    <!-- <script src="../../assets/js/studentDashboard.js"></script> -->
    <script src="../../assets/js/facultyDashboard.js"></script>
</body>

</html>